'use strict';

// Generated by CoffeeScript 2.0.3
var game, keyPressed, mousePressed, newGame, setup, touchStarted, xdraw;

game = 0;

setup = function setup() {
  createCanvas(windowWidth, windowHeight);
  colorMode(HSB);
  return newGame();
};

newGame = function newGame() {
  game = new Game(width, height);
  textSize(24);
  textAlign(CENTER, CENTER);
  return xdraw();
};

xdraw = function xdraw() {
  var c, i, len, ref;
  if (!game) {
    return;
  }
  background(game.bg);
  ref = game.circles;
  for (i = 0, len = ref.length; i < len; i++) {
    c = ref[i];
    c.draw();
  }
  fill(255 - game.bg, 255 - game.bg, 255 - game.bg, 127);
  sc();
  sw(1);
  text('Level ' + game.level + ' in ' + (game.stopp - game.start) + ' milliseconds', width / 2, height - 20);
  return false; // to prevent double click on Android
};

mousePressed = function mousePressed() {
  game.mousePressed();
  return xdraw();
};

touchStarted = function touchStarted() {
  game.mousePressed();
  return xdraw();
};

keyPressed = function keyPressed() {
  if (game) {
    if (key === 'R') {
      game.ring = !game.ring;
    }
    if (keyCode === 32) {
      print('space');
      game.bg = 255 - game.bg;
    }
    return xdraw();
  }
};
//# sourceMappingURL=sketch.js.map
