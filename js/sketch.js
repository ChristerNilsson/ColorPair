// Generated by CoffeeScript 1.12.7
var client, game, info, keyPressed, mousePressed, newGame, setup, touchStarted, xdraw,
  indexOf = [].indexOf || function(item) { for (var i = 0, l = this.length; i < l; i++) { if (i in this && this[i] === item) return i; } return -1; };

game = 0;

client = null;

setup = function() {
  client = info();
  print(client);
  if (client.cw === 1920) {
    start.style.position = "absolute";
    start.style.left = "500px";
    start.style.top = "250px";
    start.style.width = "1000px";
    start.style.height = "500px";
    return createCanvas(1920, 1059);
  } else {
    start.style.position = "absolute";
    start.style.left = "160px";
    start.style.top = "85px";
    start.style.width = "320px";
    start.style.height = "170px";
    return createCanvas(640, 338);
  }
};

newGame = function() {
  game = new Game(width, height);
  textSize(24);
  textAlign(CENTER, CENTER);
  return xdraw();
};

xdraw = function() {
  var c, i, len, ref;
  if (!game) {
    return;
  }
  background(game.bg);
  ref = game.circles;
  for (i = 0, len = ref.length; i < len; i++) {
    c = ref[i];
    c.draw();
  }
  fill(255 - game.bg, 255 - game.bg, 255 - game.bg, 127);
  sc();
  sw(1);
  return text("Level " + game.level + " in " + (game.stopp - game.start) + " milliseconds", width / 2, height - 50);
};

mousePressed = function() {
  if (!client.istouch_device && game) {
    game.mousePressed();
    xdraw();
  }
  return false;
};

touchStarted = function() {
  if (client.istouch_device && game) {
    game.mousePressed();
    xdraw();
  }
  return false;
};

keyPressed = function() {
  if (game) {
    if (key === 'R') {
      game.ring = !game.ring;
    }
    if (keyCode === 32) {
      print('space');
      game.bg = 255 - game.bg;
    }
    return xdraw();
  }
};

info = function() {
  var ratio;
  ratio = window.devicePixelRatio || 1;
  return {
    ratio: ratio,
    is_touch_device: indexOf.call(document.documentElement, 'ontouchstart') >= 0,
    sw: screen.width,
    sh: screen.height,
    cw: document.documentElement.clientWidth,
    ch: document.documentElement.clientHeight,
    rw: screen.width * ratio,
    rh: screen.height * ratio
  };
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2tldGNoLmpzIiwic291cmNlUm9vdCI6Ii4uIiwic291cmNlcyI6WyJjb2ZmZWVcXHNrZXRjaC5jb2ZmZWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLElBQUEsaUZBQUE7RUFBQTs7QUFBQSxJQUFBLEdBQU87O0FBQ1AsTUFBQSxHQUFTOztBQUVULEtBQUEsR0FBUSxTQUFBO0VBQ1AsTUFBQSxHQUFTLElBQUEsQ0FBQTtFQUNULEtBQUEsQ0FBTSxNQUFOO0VBQ0EsSUFBRyxNQUFNLENBQUMsRUFBUCxLQUFhLElBQWhCO0lBQ0MsS0FBSyxDQUFDLEtBQUssQ0FBQyxRQUFaLEdBQXVCO0lBQ3ZCLEtBQUssQ0FBQyxLQUFLLENBQUMsSUFBWixHQUFtQjtJQUNuQixLQUFLLENBQUMsS0FBSyxDQUFDLEdBQVosR0FBa0I7SUFDbEIsS0FBSyxDQUFDLEtBQUssQ0FBQyxLQUFaLEdBQW9CO0lBQ3BCLEtBQUssQ0FBQyxLQUFLLENBQUMsTUFBWixHQUFxQjtXQUNyQixZQUFBLENBQWEsSUFBYixFQUFtQixJQUFuQixFQU5EO0dBQUEsTUFBQTtJQVFDLEtBQUssQ0FBQyxLQUFLLENBQUMsUUFBWixHQUF1QjtJQUN2QixLQUFLLENBQUMsS0FBSyxDQUFDLElBQVosR0FBbUI7SUFDbkIsS0FBSyxDQUFDLEtBQUssQ0FBQyxHQUFaLEdBQWtCO0lBQ2xCLEtBQUssQ0FBQyxLQUFLLENBQUMsS0FBWixHQUFvQjtJQUNwQixLQUFLLENBQUMsS0FBSyxDQUFDLE1BQVosR0FBcUI7V0FDckIsWUFBQSxDQUFhLEdBQWIsRUFBa0IsR0FBbEIsRUFiRDs7QUFITzs7QUFrQlIsT0FBQSxHQUFVLFNBQUE7RUFDVCxJQUFBLEdBQU8sSUFBSSxJQUFKLENBQVMsS0FBVCxFQUFlLE1BQWY7RUFDUCxRQUFBLENBQVMsRUFBVDtFQUNBLFNBQUEsQ0FBVSxNQUFWLEVBQWlCLE1BQWpCO1NBQ0EsS0FBQSxDQUFBO0FBSlM7O0FBTVYsS0FBQSxHQUFRLFNBQUE7QUFDUCxNQUFBO0VBQUEsSUFBRyxDQUFJLElBQVA7QUFBaUIsV0FBakI7O0VBQ0EsVUFBQSxDQUFXLElBQUksQ0FBQyxFQUFoQjtBQUNBO0FBQUEsT0FBQSxxQ0FBQTs7SUFDQyxDQUFDLENBQUMsSUFBRixDQUFBO0FBREQ7RUFFQSxJQUFBLENBQUssR0FBQSxHQUFJLElBQUksQ0FBQyxFQUFkLEVBQWlCLEdBQUEsR0FBSSxJQUFJLENBQUMsRUFBMUIsRUFBNkIsR0FBQSxHQUFJLElBQUksQ0FBQyxFQUF0QyxFQUF5QyxHQUF6QztFQUNBLEVBQUEsQ0FBQTtFQUNBLEVBQUEsQ0FBRyxDQUFIO1NBQ0EsSUFBQSxDQUFLLFFBQUEsR0FBUyxJQUFJLENBQUMsS0FBZCxHQUFvQixNQUFwQixHQUF5QixDQUFDLElBQUksQ0FBQyxLQUFMLEdBQVcsSUFBSSxDQUFDLEtBQWpCLENBQXpCLEdBQWdELGVBQXJELEVBQXFFLEtBQUEsR0FBTSxDQUEzRSxFQUE4RSxNQUFBLEdBQU8sRUFBckY7QUFSTzs7QUFVUixZQUFBLEdBQWUsU0FBQTtFQUNkLElBQUcsQ0FBSSxNQUFNLENBQUMsY0FBWCxJQUE4QixJQUFqQztJQUNDLElBQUksQ0FBQyxZQUFMLENBQUE7SUFDQSxLQUFBLENBQUEsRUFGRDs7U0FHQTtBQUpjOztBQU1mLFlBQUEsR0FBZSxTQUFBO0VBQ2QsSUFBRyxNQUFNLENBQUMsY0FBUCxJQUEwQixJQUE3QjtJQUNDLElBQUksQ0FBQyxZQUFMLENBQUE7SUFDQSxLQUFBLENBQUEsRUFGRDs7U0FHQTtBQUpjOztBQU1mLFVBQUEsR0FBYSxTQUFBO0VBQ1osSUFBRyxJQUFIO0lBQ0MsSUFBRyxHQUFBLEtBQU8sR0FBVjtNQUFtQixJQUFJLENBQUMsSUFBTCxHQUFZLENBQUksSUFBSSxDQUFDLEtBQXhDOztJQUNBLElBQUcsT0FBQSxLQUFXLEVBQWQ7TUFDQyxLQUFBLENBQU0sT0FBTjtNQUNBLElBQUksQ0FBQyxFQUFMLEdBQVUsR0FBQSxHQUFNLElBQUksQ0FBQyxHQUZ0Qjs7V0FHQSxLQUFBLENBQUEsRUFMRDs7QUFEWTs7QUFRYixJQUFBLEdBQU8sU0FBQTtBQUNOLE1BQUE7RUFBQSxLQUFBLEdBQVEsTUFBTSxDQUFDLGdCQUFQLElBQTJCO1NBQ25DO0lBQUEsS0FBQSxFQUFRLEtBQVI7SUFDQSxlQUFBLEVBQWtCLGFBQWtCLFFBQVEsQ0FBQyxlQUEzQixFQUFBLGNBQUEsTUFEbEI7SUFFQSxFQUFBLEVBQUssTUFBTSxDQUFDLEtBRlo7SUFHQSxFQUFBLEVBQUssTUFBTSxDQUFDLE1BSFo7SUFJQSxFQUFBLEVBQUssUUFBUSxDQUFDLGVBQWUsQ0FBQyxXQUo5QjtJQUtBLEVBQUEsRUFBSyxRQUFRLENBQUMsZUFBZSxDQUFDLFlBTDlCO0lBTUEsRUFBQSxFQUFLLE1BQU0sQ0FBQyxLQUFQLEdBQWUsS0FOcEI7SUFPQSxFQUFBLEVBQUssTUFBTSxDQUFDLE1BQVAsR0FBZ0IsS0FQckI7O0FBRk0iLCJzb3VyY2VzQ29udGVudCI6WyJnYW1lID0gMCBcclxuY2xpZW50ID0gbnVsbFxyXG5cclxuc2V0dXAgPSAtPlxyXG5cdGNsaWVudCA9IGluZm8oKVxyXG5cdHByaW50IGNsaWVudCBcclxuXHRpZiBjbGllbnQuY3cgPT0gMTkyMFxyXG5cdFx0c3RhcnQuc3R5bGUucG9zaXRpb24gPSBcImFic29sdXRlXCJcclxuXHRcdHN0YXJ0LnN0eWxlLmxlZnQgPSBcIjUwMHB4XCJcclxuXHRcdHN0YXJ0LnN0eWxlLnRvcCA9IFwiMjUwcHhcIlxyXG5cdFx0c3RhcnQuc3R5bGUud2lkdGggPSBcIjEwMDBweFwiXHJcblx0XHRzdGFydC5zdHlsZS5oZWlnaHQgPSBcIjUwMHB4XCJcclxuXHRcdGNyZWF0ZUNhbnZhcyAxOTIwLCAxMDU5XHJcblx0ZWxzZVxyXG5cdFx0c3RhcnQuc3R5bGUucG9zaXRpb24gPSBcImFic29sdXRlXCJcclxuXHRcdHN0YXJ0LnN0eWxlLmxlZnQgPSBcIjE2MHB4XCJcclxuXHRcdHN0YXJ0LnN0eWxlLnRvcCA9IFwiODVweFwiXHJcblx0XHRzdGFydC5zdHlsZS53aWR0aCA9IFwiMzIwcHhcIlxyXG5cdFx0c3RhcnQuc3R5bGUuaGVpZ2h0ID0gXCIxNzBweFwiXHJcblx0XHRjcmVhdGVDYW52YXMgNjQwLCAzMzhcclxuXHJcbm5ld0dhbWUgPSAtPlxyXG5cdGdhbWUgPSBuZXcgR2FtZSB3aWR0aCxoZWlnaHQgXHJcblx0dGV4dFNpemUgMjRcclxuXHR0ZXh0QWxpZ24gQ0VOVEVSLENFTlRFUlxyXG5cdHhkcmF3KClcclxuXHRcdFx0XHRcdFxyXG54ZHJhdyA9IC0+XHJcblx0aWYgbm90IGdhbWUgdGhlbiByZXR1cm4gXHJcblx0YmFja2dyb3VuZCBnYW1lLmJnXHJcblx0Zm9yIGMgaW4gZ2FtZS5jaXJjbGVzXHJcblx0XHRjLmRyYXcoKVxyXG5cdGZpbGwgMjU1LWdhbWUuYmcsMjU1LWdhbWUuYmcsMjU1LWdhbWUuYmcsMTI3XHJcblx0c2MoKVxyXG5cdHN3IDFcclxuXHR0ZXh0IFwiTGV2ZWwgI3tnYW1lLmxldmVsfSBpbiAje2dhbWUuc3RvcHAtZ2FtZS5zdGFydH0gbWlsbGlzZWNvbmRzXCIsIHdpZHRoLzIsIGhlaWdodC01MFxyXG5cclxubW91c2VQcmVzc2VkID0gLT5cclxuXHRpZiBub3QgY2xpZW50LmlzdG91Y2hfZGV2aWNlIGFuZCBnYW1lXHJcblx0XHRnYW1lLm1vdXNlUHJlc3NlZCgpXHJcblx0XHR4ZHJhdygpXHJcblx0ZmFsc2VcclxuXHJcbnRvdWNoU3RhcnRlZCA9IC0+XHJcblx0aWYgY2xpZW50LmlzdG91Y2hfZGV2aWNlIGFuZCBnYW1lIFxyXG5cdFx0Z2FtZS5tb3VzZVByZXNzZWQoKVxyXG5cdFx0eGRyYXcoKVxyXG5cdGZhbHNlXHRcclxuXHJcbmtleVByZXNzZWQgPSAtPlxyXG5cdGlmIGdhbWUgXHJcblx0XHRpZiBrZXkgPT0gJ1InIHRoZW4gZ2FtZS5yaW5nID0gbm90IGdhbWUucmluZ1x0XHJcblx0XHRpZiBrZXlDb2RlID09IDMyXHJcblx0XHRcdHByaW50ICdzcGFjZSdcclxuXHRcdFx0Z2FtZS5iZyA9IDI1NSAtIGdhbWUuYmdcclxuXHRcdHhkcmF3KClcclxuXHJcbmluZm8gPSAtPlxyXG5cdHJhdGlvID0gd2luZG93LmRldmljZVBpeGVsUmF0aW8gfHwgMVxyXG5cdHJhdGlvIDogcmF0aW9cclxuXHRpc190b3VjaF9kZXZpY2UgOiAnb250b3VjaHN0YXJ0JyBpbiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnRcclxuXHRzdyA6IHNjcmVlbi53aWR0aCBcclxuXHRzaCA6IHNjcmVlbi5oZWlnaHRcclxuXHRjdyA6IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aFxyXG5cdGNoIDogZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodFxyXG5cdHJ3IDogc2NyZWVuLndpZHRoICogcmF0aW9cclxuXHRyaCA6IHNjcmVlbi5oZWlnaHQgKiByYXRpb1xyXG4iXX0=
//# sourceURL=C:\github\ColorPair\coffee\sketch.coffee