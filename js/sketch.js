// Generated by CoffeeScript 1.12.7
var client, game, info, keyPressed, mousePressed, newGame, setup, touchStarted, xdraw,
  indexOf = [].indexOf || function(item) { for (var i = 0, l = this.length; i < l; i++) { if (i in this && this[i] === item) return i; } return -1; };

game = 0;

client = null;

setup = function() {
  var c;
  screen.lockOrientationUniversal = screen.lockOrientation || screen.mozLockOrientation || screen.msLockOrientation;
  if (screen.lockOrientationUniversal && screen.lockOrientationUniversal("landscape")) {
    print('landscape');
  }
  client = info();
  print(client);
  if (client.cw === 1920) {
    start.style.position = "absolute";
    start.style.left = "500px";
    start.style.top = "250px";
    start.style.width = "1000px";
    start.style.height = "500px";
    return c = createCanvas(1900, 1059);
  } else {
    start.style.position = "absolute";
    start.style.left = "160px";
    start.style.top = "85px";
    start.style.width = "320px";
    start.style.height = "170px";
    return c = createCanvas(620, 338);
  }
};

newGame = function() {
  game = new Game(width, height);
  textSize(24);
  textAlign(CENTER, CENTER);
  return xdraw();
};

xdraw = function() {
  var c, i, len, ref;
  if (!game) {
    return;
  }
  background(game.bg);
  ref = game.circles;
  for (i = 0, len = ref.length; i < len; i++) {
    c = ref[i];
    c.draw();
  }
  fill(255 - game.bg, 255 - game.bg, 255 - game.bg, 127);
  sc();
  sw(1);
  return text("Level " + game.level + " in " + (game.stopp - game.start) + " milliseconds", width / 2, height - 20);
};

mousePressed = function() {
  if (!client.istouch_device && game) {
    game.mousePressed();
    xdraw();
  }
  return false;
};

touchStarted = function() {
  if (client.istouch_device && game) {
    game.mousePressed();
    xdraw();
  }
  return false;
};

keyPressed = function() {
  if (game) {
    if (key === 'R') {
      game.ring = !game.ring;
    }
    if (keyCode === 32) {
      print('space');
      game.bg = 255 - game.bg;
    }
    return xdraw();
  }
};

info = function() {
  var ratio;
  ratio = window.devicePixelRatio || 1;
  return {
    ratio: ratio,
    is_touch_device: indexOf.call(document.documentElement, 'ontouchstart') >= 0,
    sw: screen.width,
    sh: screen.height,
    cw: document.documentElement.clientWidth,
    ch: document.documentElement.clientHeight,
    rw: screen.width * ratio,
    rh: screen.height * ratio
  };
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2tldGNoLmpzIiwic291cmNlUm9vdCI6Ii4uIiwic291cmNlcyI6WyJjb2ZmZWVcXHNrZXRjaC5jb2ZmZWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLElBQUEsaUZBQUE7RUFBQTs7QUFBQSxJQUFBLEdBQU87O0FBQ1AsTUFBQSxHQUFTOztBQUVULEtBQUEsR0FBUSxTQUFBO0FBQ1AsTUFBQTtFQUFBLE1BQU0sQ0FBQyx3QkFBUCxHQUFrQyxNQUFNLENBQUMsZUFBUCxJQUEwQixNQUFNLENBQUMsa0JBQWpDLElBQXVELE1BQU0sQ0FBQztFQUNoRyxJQUFHLE1BQU0sQ0FBQyx3QkFBUCxJQUFvQyxNQUFNLENBQUMsd0JBQVAsQ0FBZ0MsV0FBaEMsQ0FBdkM7SUFBd0YsS0FBQSxDQUFNLFdBQU4sRUFBeEY7O0VBRUEsTUFBQSxHQUFTLElBQUEsQ0FBQTtFQUNULEtBQUEsQ0FBTSxNQUFOO0VBQ0EsSUFBRyxNQUFNLENBQUMsRUFBUCxLQUFhLElBQWhCO0lBQ0MsS0FBSyxDQUFDLEtBQUssQ0FBQyxRQUFaLEdBQXVCO0lBQ3ZCLEtBQUssQ0FBQyxLQUFLLENBQUMsSUFBWixHQUFtQjtJQUNuQixLQUFLLENBQUMsS0FBSyxDQUFDLEdBQVosR0FBa0I7SUFDbEIsS0FBSyxDQUFDLEtBQUssQ0FBQyxLQUFaLEdBQW9CO0lBQ3BCLEtBQUssQ0FBQyxLQUFLLENBQUMsTUFBWixHQUFxQjtXQUNyQixDQUFBLEdBQUksWUFBQSxDQUFhLElBQWIsRUFBbUIsSUFBbkIsRUFOTDtHQUFBLE1BQUE7SUFVQyxLQUFLLENBQUMsS0FBSyxDQUFDLFFBQVosR0FBdUI7SUFDdkIsS0FBSyxDQUFDLEtBQUssQ0FBQyxJQUFaLEdBQW1CO0lBQ25CLEtBQUssQ0FBQyxLQUFLLENBQUMsR0FBWixHQUFrQjtJQUNsQixLQUFLLENBQUMsS0FBSyxDQUFDLEtBQVosR0FBb0I7SUFDcEIsS0FBSyxDQUFDLEtBQUssQ0FBQyxNQUFaLEdBQXFCO1dBQ3JCLENBQUEsR0FBSSxZQUFBLENBQWEsR0FBYixFQUFrQixHQUFsQixFQWZMOztBQU5POztBQXlCUixPQUFBLEdBQVUsU0FBQTtFQUNULElBQUEsR0FBTyxJQUFJLElBQUosQ0FBUyxLQUFULEVBQWUsTUFBZjtFQUNQLFFBQUEsQ0FBUyxFQUFUO0VBQ0EsU0FBQSxDQUFVLE1BQVYsRUFBaUIsTUFBakI7U0FDQSxLQUFBLENBQUE7QUFKUzs7QUFNVixLQUFBLEdBQVEsU0FBQTtBQUNQLE1BQUE7RUFBQSxJQUFHLENBQUksSUFBUDtBQUFpQixXQUFqQjs7RUFDQSxVQUFBLENBQVcsSUFBSSxDQUFDLEVBQWhCO0FBQ0E7QUFBQSxPQUFBLHFDQUFBOztJQUNDLENBQUMsQ0FBQyxJQUFGLENBQUE7QUFERDtFQUVBLElBQUEsQ0FBSyxHQUFBLEdBQUksSUFBSSxDQUFDLEVBQWQsRUFBaUIsR0FBQSxHQUFJLElBQUksQ0FBQyxFQUExQixFQUE2QixHQUFBLEdBQUksSUFBSSxDQUFDLEVBQXRDLEVBQXlDLEdBQXpDO0VBQ0EsRUFBQSxDQUFBO0VBQ0EsRUFBQSxDQUFHLENBQUg7U0FDQSxJQUFBLENBQUssUUFBQSxHQUFTLElBQUksQ0FBQyxLQUFkLEdBQW9CLE1BQXBCLEdBQXlCLENBQUMsSUFBSSxDQUFDLEtBQUwsR0FBVyxJQUFJLENBQUMsS0FBakIsQ0FBekIsR0FBZ0QsZUFBckQsRUFBcUUsS0FBQSxHQUFNLENBQTNFLEVBQThFLE1BQUEsR0FBTyxFQUFyRjtBQVJPOztBQVVSLFlBQUEsR0FBZSxTQUFBO0VBQ2QsSUFBRyxDQUFJLE1BQU0sQ0FBQyxjQUFYLElBQThCLElBQWpDO0lBQ0MsSUFBSSxDQUFDLFlBQUwsQ0FBQTtJQUNBLEtBQUEsQ0FBQSxFQUZEOztTQUdBO0FBSmM7O0FBTWYsWUFBQSxHQUFlLFNBQUE7RUFDZCxJQUFHLE1BQU0sQ0FBQyxjQUFQLElBQTBCLElBQTdCO0lBQ0MsSUFBSSxDQUFDLFlBQUwsQ0FBQTtJQUNBLEtBQUEsQ0FBQSxFQUZEOztTQUdBO0FBSmM7O0FBTWYsVUFBQSxHQUFhLFNBQUE7RUFDWixJQUFHLElBQUg7SUFDQyxJQUFHLEdBQUEsS0FBTyxHQUFWO01BQW1CLElBQUksQ0FBQyxJQUFMLEdBQVksQ0FBSSxJQUFJLENBQUMsS0FBeEM7O0lBQ0EsSUFBRyxPQUFBLEtBQVcsRUFBZDtNQUNDLEtBQUEsQ0FBTSxPQUFOO01BQ0EsSUFBSSxDQUFDLEVBQUwsR0FBVSxHQUFBLEdBQU0sSUFBSSxDQUFDLEdBRnRCOztXQUdBLEtBQUEsQ0FBQSxFQUxEOztBQURZOztBQVFiLElBQUEsR0FBTyxTQUFBO0FBQ04sTUFBQTtFQUFBLEtBQUEsR0FBUSxNQUFNLENBQUMsZ0JBQVAsSUFBMkI7U0FDbkM7SUFBQSxLQUFBLEVBQVEsS0FBUjtJQUNBLGVBQUEsRUFBa0IsYUFBa0IsUUFBUSxDQUFDLGVBQTNCLEVBQUEsY0FBQSxNQURsQjtJQUVBLEVBQUEsRUFBSyxNQUFNLENBQUMsS0FGWjtJQUdBLEVBQUEsRUFBSyxNQUFNLENBQUMsTUFIWjtJQUlBLEVBQUEsRUFBSyxRQUFRLENBQUMsZUFBZSxDQUFDLFdBSjlCO0lBS0EsRUFBQSxFQUFLLFFBQVEsQ0FBQyxlQUFlLENBQUMsWUFMOUI7SUFNQSxFQUFBLEVBQUssTUFBTSxDQUFDLEtBQVAsR0FBZSxLQU5wQjtJQU9BLEVBQUEsRUFBSyxNQUFNLENBQUMsTUFBUCxHQUFnQixLQVByQjs7QUFGTSIsInNvdXJjZXNDb250ZW50IjpbImdhbWUgPSAwIFxyXG5jbGllbnQgPSBudWxsXHJcblxyXG5zZXR1cCA9IC0+XHJcblx0c2NyZWVuLmxvY2tPcmllbnRhdGlvblVuaXZlcnNhbCA9IHNjcmVlbi5sb2NrT3JpZW50YXRpb24gfHwgc2NyZWVuLm1vekxvY2tPcmllbnRhdGlvbiB8fCBzY3JlZW4ubXNMb2NrT3JpZW50YXRpb25cclxuXHRpZiBzY3JlZW4ubG9ja09yaWVudGF0aW9uVW5pdmVyc2FsIGFuZCBzY3JlZW4ubG9ja09yaWVudGF0aW9uVW5pdmVyc2FsIFwibGFuZHNjYXBlXCIgdGhlbiBwcmludCAnbGFuZHNjYXBlJ1xyXG5cclxuXHRjbGllbnQgPSBpbmZvKClcclxuXHRwcmludCBjbGllbnQgXHJcblx0aWYgY2xpZW50LmN3ID09IDE5MjBcclxuXHRcdHN0YXJ0LnN0eWxlLnBvc2l0aW9uID0gXCJhYnNvbHV0ZVwiXHJcblx0XHRzdGFydC5zdHlsZS5sZWZ0ID0gXCI1MDBweFwiXHJcblx0XHRzdGFydC5zdHlsZS50b3AgPSBcIjI1MHB4XCJcclxuXHRcdHN0YXJ0LnN0eWxlLndpZHRoID0gXCIxMDAwcHhcIlxyXG5cdFx0c3RhcnQuc3R5bGUuaGVpZ2h0ID0gXCI1MDBweFwiXHJcblx0XHRjID0gY3JlYXRlQ2FudmFzIDE5MDAsIDEwNTlcclxuXHRcdCNjLnBhcmVudCBcImNhbnZhc1wiXHRcdFxyXG5cdFx0I2MucG9zaXRpb24gMTAsMTAgXHJcblx0ZWxzZVxyXG5cdFx0c3RhcnQuc3R5bGUucG9zaXRpb24gPSBcImFic29sdXRlXCJcclxuXHRcdHN0YXJ0LnN0eWxlLmxlZnQgPSBcIjE2MHB4XCJcclxuXHRcdHN0YXJ0LnN0eWxlLnRvcCA9IFwiODVweFwiXHJcblx0XHRzdGFydC5zdHlsZS53aWR0aCA9IFwiMzIwcHhcIlxyXG5cdFx0c3RhcnQuc3R5bGUuaGVpZ2h0ID0gXCIxNzBweFwiXHJcblx0XHRjID0gY3JlYXRlQ2FudmFzIDYyMCwgMzM4XHJcblx0XHQjYy5wYXJlbnQgXCJjYW52YXNcIlx0XHRcclxuXHRcdCNjLnBvc2l0aW9uIDEwLDEwIFxyXG5cclxubmV3R2FtZSA9IC0+XHJcblx0Z2FtZSA9IG5ldyBHYW1lIHdpZHRoLGhlaWdodCBcclxuXHR0ZXh0U2l6ZSAyNFxyXG5cdHRleHRBbGlnbiBDRU5URVIsQ0VOVEVSXHJcblx0eGRyYXcoKVxyXG5cdFx0XHRcdFx0XHJcbnhkcmF3ID0gLT5cclxuXHRpZiBub3QgZ2FtZSB0aGVuIHJldHVybiBcclxuXHRiYWNrZ3JvdW5kIGdhbWUuYmdcclxuXHRmb3IgYyBpbiBnYW1lLmNpcmNsZXNcclxuXHRcdGMuZHJhdygpXHJcblx0ZmlsbCAyNTUtZ2FtZS5iZywyNTUtZ2FtZS5iZywyNTUtZ2FtZS5iZywxMjdcclxuXHRzYygpXHJcblx0c3cgMVxyXG5cdHRleHQgXCJMZXZlbCAje2dhbWUubGV2ZWx9IGluICN7Z2FtZS5zdG9wcC1nYW1lLnN0YXJ0fSBtaWxsaXNlY29uZHNcIiwgd2lkdGgvMiwgaGVpZ2h0LTIwXHJcblxyXG5tb3VzZVByZXNzZWQgPSAtPlxyXG5cdGlmIG5vdCBjbGllbnQuaXN0b3VjaF9kZXZpY2UgYW5kIGdhbWVcclxuXHRcdGdhbWUubW91c2VQcmVzc2VkKClcclxuXHRcdHhkcmF3KClcclxuXHRmYWxzZVxyXG5cclxudG91Y2hTdGFydGVkID0gLT5cclxuXHRpZiBjbGllbnQuaXN0b3VjaF9kZXZpY2UgYW5kIGdhbWUgXHJcblx0XHRnYW1lLm1vdXNlUHJlc3NlZCgpXHJcblx0XHR4ZHJhdygpXHJcblx0ZmFsc2VcdFxyXG5cclxua2V5UHJlc3NlZCA9IC0+XHJcblx0aWYgZ2FtZSBcclxuXHRcdGlmIGtleSA9PSAnUicgdGhlbiBnYW1lLnJpbmcgPSBub3QgZ2FtZS5yaW5nXHRcclxuXHRcdGlmIGtleUNvZGUgPT0gMzJcclxuXHRcdFx0cHJpbnQgJ3NwYWNlJ1xyXG5cdFx0XHRnYW1lLmJnID0gMjU1IC0gZ2FtZS5iZ1xyXG5cdFx0eGRyYXcoKVxyXG5cclxuaW5mbyA9IC0+XHJcblx0cmF0aW8gPSB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyB8fCAxXHJcblx0cmF0aW8gOiByYXRpb1xyXG5cdGlzX3RvdWNoX2RldmljZSA6ICdvbnRvdWNoc3RhcnQnIGluIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudFxyXG5cdHN3IDogc2NyZWVuLndpZHRoIFxyXG5cdHNoIDogc2NyZWVuLmhlaWdodFxyXG5cdGN3IDogZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoXHJcblx0Y2ggOiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0XHJcblx0cncgOiBzY3JlZW4ud2lkdGggKiByYXRpb1xyXG5cdHJoIDogc2NyZWVuLmhlaWdodCAqIHJhdGlvXHJcbiJdfQ==
//# sourceURL=C:\github\ColorPair\coffee\sketch.coffee